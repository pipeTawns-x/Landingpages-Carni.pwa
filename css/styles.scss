// Variables
$primary-color: #363432;
$secondary-color: #A0978F;
$white: #f9f8f7;
$body-bg: #e4d1b0;
$blue-header: rgba(51, 93, 218, 0.9960784314);
$border-radius-sm: 4px;
$transition-fast: 0.15s;
$spacer: 1rem;
$spacers: (
  0: 0,
  1: $spacer * 0.25,
  2: $spacer * 0.5,
  3: $spacer,
  4: $spacer * 1.5,
  5: $spacer * 3,
  6: $spacer * 4.5,
  7: $spacer * 6,
  8: $spacer * 7.5
);

// Mixins
@mixin transition($property: all, $duration: $transition-fast, $timing: ease-in-out) {
  transition: $property $duration $timing;
}

@mixin box-shadow($level: 1) {
  @if $level == 1 {
    box-shadow: 0 1px 3px rgba(0,0,0,0.12), 0 1px 2px rgba(0,0,0,0.24);
  } @else if $level == 2 {
    box-shadow: 0 3px 6px rgba(0,0,0,0.16), 0 3px 6px rgba(0,0,0,0.23);
  } @else if $level == 3 {
    box-shadow: 0 10px 20px rgba(0,0,0,0.19), 0 6px 6px rgba(0,0,0,0.23);
  } @else if $level == 4 {
    box-shadow: 0 14px 28px rgba(0,0,0,0.25), 0 10px 10px rgba(0,0,0,0.22);
  } @else if $level == 5 {
    box-shadow: 0 19px 38px rgba(0,0,0,0.30), 0 15px 12px rgba(0,0,0,0.22);
  }
}

// Base Styles
body {
  font-family: 'Roboto', sans-serif;
  color: $primary-color;
  display: flex;
  flex-direction: column;
  min-height: 100vh;
  background-color: $body-bg;
}

// Spacing Utilities
@each $spacer, $value in $spacers {
  .m-#{$spacer} { margin: $value !important; }
  .mt-#{$spacer} { margin-top: $value !important; }
  .mr-#{$spacer} { margin-right: $value !important; }
  .mb-#{$spacer} { margin-bottom: $value !important; }
  .ml-#{$spacer} { margin-left: $value !important; }
  .mx-#{$spacer} { margin-left: $value !important; margin-right: $value !important; }
  .my-#{$spacer} { margin-top: $value !important; margin-bottom: $value !important; }
  
  .p-#{$spacer} { padding: $value !important; }
  .pt-#{$spacer} { padding-top: $value !important; }
  .pr-#{$spacer} { padding-right: $value !important; }
  .pb-#{$spacer} { padding-bottom: $value !important; }
  .pl-#{$spacer} { padding-left: $value !important; }
  .px-#{$spacer} { padding-left: $value !important; padding-right: $value !important; }
  .py-#{$spacer} { padding-top: $value !important; padding-bottom: $value !important; }
}

// Mini Header
.mini-header {
  background-color: $blue-header;
  font-size: 0.9rem;
  
  i {
    color: gold;
  }
}

// Header Styles
.main-header {
  background-color: $primary-color;
  color: $white;
  position: relative;
  z-index: 1000;

  .navbar-brand {
    font-size: 1.75rem;
    font-weight: 700;
    margin-right: 2rem;
    @include transition;
    
    &:hover {
      color: lighten($white, 10%);
    }
  }

  .nav {
    margin-top: map-get($spacers, 2);

    .nav-link {
      color: $white;
      font-weight: 500;
      padding: map-get($spacers, 2) map-get($spacers, 3);
      @include transition(color);
      
      &:hover {
        color: lighten($white, 10%);
      }
    }
  }

  .header-icons {
    .icon-btn {
      background-color: transparent;
      border: none;
      color: $white;
      font-size: 1.3rem;
      @include transition(all);
      padding: map-get($spacers, 2);
      margin-left: map-get($spacers, 2);

      &:hover {
        color: lighten($white, 15%);
        transform: translateY(-2px);
      }

      .badge {
        font-size: 0.6rem;
        padding: 0.25em 0.4em;
        background-color: darken($secondary-color, 40%);
        color: $white;
      }
    }
  }
  
  .search-bar {
    @include transition(all);
    
    input {
      border-radius: $border-radius-sm 0 0 $border-radius-sm;
    }
    
    button {
      border-radius: 0 $border-radius-sm $border-radius-sm 0;
    }
  }
}

// Hero Section
.hero-section {
  padding: map-get($spacers, 6) 0;
  background: linear-gradient(rgba($body-bg, 0.9), rgba($body-bg, 0.9)), url('../img/meat-pattern.png');
  background-size: 300px;
  
  &__title {
    font-size: 2.5rem;
    font-weight: 700;
    margin-bottom: map-get($spacers, 3);
    color: $primary-color;
  }
  
  &__subtitle {
    font-size: 1.25rem;
    margin-bottom: map-get($spacers, 4);
    color: darken($secondary-color, 20%);
  }
  
  .weather-widget {
    background-color: rgba($white, 0.8);
    padding: map-get($spacers, 2) map-get($spacers, 3);
    border-radius: $border-radius-sm;
    display: inline-block;
    @include box-shadow(1);
    
    .weather-icon {
      color: $primary-color;
    }
    
    .weather-temp {
      font-weight: 600;
    }
    
    .weather-desc {
      font-size: 0.8rem;
    }
  }
}

// Products Section
.products-section {
  background-color: $white;
  
  .card {
    @include transition(all);
    @include box-shadow(1);
    border-radius: $border-radius-sm;
    
    &:hover {
      @include box-shadow(3);
      transform: translateY(-5px);
    }
    
    .card-img-top {
      border-radius: $border-radius-sm $border-radius-sm 0 0;
      height: 200px;
      object-fit: cover;
    }
    
    .card-title {
      color: $primary-color;
      font-weight: 600;
    }
    
    .card-text {
      color: $secondary-color;
    }
  }
}

// Schedule Section
.schedule-section, .location-section, .contact-section {
  background-color: lighten($body-bg, 5%);
  
  .schedule-box, .about-box {
    background-color: $white;
    border-radius: $border-radius-sm;
    @include box-shadow(1);
    @include transition(all);
    
    &:hover {
      @include box-shadow(2);
    }
  }
  
  .about-box {
    height: 100%;
  }
}

// Contact Form
.contact-form {
  background-color: $white;
  border-radius: $border-radius-sm;
  @include box-shadow(3);
  
  .form-control {
    @include transition(all);
    
    &:focus {
      border-color: $primary-color;
      box-shadow: 0 0 0 0.2rem rgba($primary-color, 0.1);
    }
  }
  
  .input-group-text {
    background-color: $primary-color;
    color: $white;
    border-color: $primary-color;
  }
}

// Footer
.main-footer {
  background-color: $primary-color;
  color: $white;
  padding: map-get($spacers, 5) 0 map-get($spacers, 3);
  margin-top: auto;

  h5 {
    font-weight: 600;
    margin-bottom: map-get($spacers, 3);
  }

  a {
    color: $white;
    text-decoration: none;
    @include transition(color);
    
    &:hover {
      color: lighten($white, 10%);
      text-decoration: underline;
    }
  }

  .social-icons a {
    display: inline-block;
    @include transition(transform);
    
    &:hover {
      transform: translateY(-3px);
      text-decoration: none;
    }
  }

  hr {
    border-color: rgba($white, 0.1);
  }
}

// Login Page Styles
.login-page {
  background-color: $body-bg;
  background-image: url('../img/meat-pattern.png');
  background-size: 300px;
  background-blend-mode: overlay;

  .mini-header {
    background-color: $blue-header;
  }

  .login-main {
    flex: 1;
    display: flex;
    align-items: center;
    padding: map-get($spacers, 5) 0;
    min-height: calc(100vh - 120px);
  }

  .login-card {
    border-radius: $border-radius-sm;
    background-color: rgba($white, 0.95);
    @include box-shadow(3);
    @include transition(all);
    border: 1px solid rgba($primary-color, 0.1);
    overflow: hidden;

    &:hover {
      @include box-shadow(4);
    }

    h2 {
      font-weight: 700;
      color: $primary-color;
      position: relative;
      margin-bottom: map-get($spacers, 3);
      font-size: 1.8rem;
    }

    .text-muted {
      color: lighten($primary-color, 25%) !important;
      font-size: 0.95rem;
    }

    .form-control {
      border-color: $secondary-color;
      padding: map-get($spacers, 3);
      background-color: rgba($white, 0.9);
      @include transition(all);
      
      &:focus {
        border-color: $primary-color;
        box-shadow: 0 0 0 0.25rem rgba($primary-color, 0.1);
      }
    }

    .input-group-text {
      background-color: $primary-color;
      color: $white;
      border-color: $primary-color;
    }

    .btn-primary {
      background-color: $primary-color;
      border-color: $primary-color;
      font-weight: 500;
      @include transition(all);
      padding: map-get($spacers, 2) map-get($spacers, 5);

      &:hover {
        background-color: darken($primary-color, 8%);
        border-color: darken($primary-color, 8%);
        transform: translateY(-2px);
      }

      &:active {
        transform: translateY(0);
      }
    }

    .btn-outline-primary {
      color: $primary-color;
      border-color: $primary-color;
      
      &:hover {
        background-color: $primary-color;
        color: $white;
      }
    }

    a {
      color: $primary-color;
      @include transition(color);
      text-decoration: none;

      &:hover {
        color: darken($primary-color, 15%);
        text-decoration: underline;
      }
    }

    .form-check-label {
      font-size: 0.9rem;
      color: lighten($primary-color, 15%);
    }

    .login-footer {
      .contact-info, .social-links {
        h6 {
          color: $primary-color;
          font-weight: 600;
          font-size: 1rem;
          margin-bottom: map-get($spacers, 2);
        }
      }

      .social-icons {
        a {
          color: $primary-color;
          @include transition(all);
          display: inline-block;
          margin: 0 map-get($spacers, 2);

          &:hover {
            color: darken($primary-color, 15%);
            transform: translateY(-2px);
          }
        }
      }

      .copyright {
        color: $primary-color;
        opacity: 0.7;
        font-size: 0.85rem;
        margin-top: map-get($spacers, 3);
      }
    }
  }
}

// Admin Dashboard Styles
.admin-dashboard {
  background-color: #f8f9fa;
  
  .admin-sidebar {
    width: 250px;
    min-height: 100vh;
    @include transition(all);
    
    .sidebar-header {
      border-bottom: 1px solid rgba($white, 0.1);
    }
    
    .nav-link {
      color: rgba($white, 0.8);
      padding: map-get($spacers, 2) map-get($spacers, 3);
      @include transition(all);
      
      &:hover, &.active {
        color: $white;
        background-color: rgba($white, 0.1);
      }
      
      i {
        width: 20px;
        text-align: center;
      }
    }
  }
  
  .admin-content {
    @include transition(all);
    
    .admin-navbar {
      box-shadow: 0 0.15rem 1.75rem 0 rgba(58, 59, 69, 0.15);
    }
    
    .card {
      border: none;
      @include box-shadow(1);
      @include transition(all);
      
      &:hover {
        @include box-shadow(2);
      }
      
      .card-header {
        background-color: #f8f9fc;
        border-bottom: 1px solid #e3e6f0;
      }
    }
    
    .border-left-primary {
      border-left: 0.25rem solid #4e73df !important;
    }
    
    .border-left-success {
      border-left: 0.25rem solid #1cc88a !important;
    }
    
    .border-left-info {
      border-left: 0.25rem solid #36b9cc !important;
    }
    
    .border-left-warning {
      border-left: 0.25rem solid #f6c23e !important;
    }
  }
}

// Responsive Adjustments
@media (max-width: 992px) {
  .admin-dashboard {
    .admin-sidebar {
      position: fixed;
      z-index: 1050;
      transform: translateX(-100%);
      
      &.show {
        transform: translateX(0);
      }
    }
    
    .admin-content {
      margin-left: 0;
    }
  }
}

@media (max-width: 768px) {
  .login-page {
    .login-card {
      padding: map-get($spacers, 4) !important;
    }
    
    .main-header {
      .navbar-brand {
        font-size: 1.3rem;
      }
    }
  }
  
  .hero-section {
    padding: map-get($spacers, 4) 0;
    
    &__title {
      font-size: 2rem;
    }
    
    &__subtitle {
      font-size: 1.1rem;
    }
  }
}

@media (max-width: 576px) {
  .login-page {
    .login-main {
      padding: map-get($spacers, 3) 0;
    }
    
    .login-card {
      padding: map-get($spacers, 3) !important;
      margin: map-get($spacers, 2);
      
      h2 {
        font-size: 1.5rem;
      }
      
      .btn-primary {
        padding: map-get($spacers, 2) map-get($spacers, 3);
        font-size: 0.9rem;
      }
    }
  }
  
  .main-header {
    .navbar-brand {
      font-size: 1.1rem;
    }
    
    .nav {
      .nav-link {
        padding: map-get($spacers, 1) map-get($spacers, 2);
        font-size: 0.9rem;
      }
    }
  }
}

// Offline Alert
.offline-alert {
  position: fixed;
  bottom: 20px;
  right: 20px;
  z-index: 1100;
  @include box-shadow(3);
  display: flex;
  align-items: center;
  
  i {
    margin-right: map-get($spacers, 2);
  }
}

// Print Styles
@media print {
  .main-header, .main-footer, .btn {
    display: none !important;
  }
  
  body {
    background-color: $white !important;
  }
  
  .container {
    width: auto;
    max-width: 100%;
    padding: 0;
  }
}


// Estilos específicos para admin
.admin-login-brand {
  color: #1a237e;
  font-weight: 700;
}

.admin-login-card {
  border-top: 4px solid #1a237e;
}

.admin-login-btn {
  background-color: #1a237e;
  border-color: #1a237e;
  
  &:hover {
    background-color: #303f9f;
    border-color: #303f9f;
  }
}

// Navbar de admin
.admin-navbar {
  background-color: #1a237e !important;
}

// Sidebar de admin
.admin-sidebar {
  .nav-link {
    &.active {
      background-color: rgba(26, 35, 126, 0.2);
      border-left: 3px solid #1a237e;
    }
    
    &:hover {
      background-color: rgba(26, 35, 126, 0.1);
    }
  }
}